<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Fri Jul 21 20:03:31 CST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>EMConversation (Hyphenate Chat API 3.0)</title>
<meta name="date" content="2017-07-21">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EMConversation (Hyphenate Chat API 3.0)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":42,"i16":10,"i17":10,"i18":10,"i19":9,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/hyphenate/chat/EMContactManager.html" title="class in com.hyphenate.chat"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/hyphenate/chat/EMConversation.EMConversationType.html" title="enum in com.hyphenate.chat"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/hyphenate/chat/EMConversation.html" target="_top">Frames</a></li>
<li><a href="EMConversation.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.hyphenate.chat</div>
<h2 title="Class EMConversation" class="title">Class EMConversation</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../com/hyphenate/chat/EMBase.html" title="class in com.hyphenate.chat">com.hyphenate.chat.EMBase</a>&lt;com.hyphenate.chat.adapter.EMAConversation&gt;</li>
<li>
<ul class="inheritance">
<li>com.hyphenate.chat.EMConversation</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">EMConversation</span>
extends <a href="../../../com/hyphenate/chat/EMBase.html" title="class in com.hyphenate.chat">EMBase</a>&lt;com.hyphenate.chat.adapter.EMAConversation&gt;</pre>
<div class="block">EMConversation represent a conversation chating with a user, containing chat messages.
 Example illustrate how to get unread message count
 
 EMConversation conversation = EMClient.getInstance().chatManager().getConversation(&quot;user1&quot;);
 int unread = conversation.getUnreadMsgCount();</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>3.0</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.EMConversationType.html" title="enum in com.hyphenate.chat">EMConversation.EMConversationType</a></span></code>
<div class="block">Conversation type</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.EMSearchDirection.html" title="enum in com.hyphenate.chat">EMConversation.EMSearchDirection</a></span></code>
<div class="block">Message search direction</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#appendMessage-com.hyphenate.chat.EMMessage-">appendMessage</a></span>(<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&nbsp;msg)</code>
<div class="block">Insert a message to the end of a conversation in local database.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#clear--">clear</a></span>()</code>
<div class="block">clear messages in this conversation's from cache, but will NOT clear local database</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#clearAllMessages--">clearAllMessages</a></span>()</code>
<div class="block">Delete all messages of the conversation from memory cache and local database</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#conversationId--">conversationId</a></span>()</code>
<div class="block">conversation ID
 For single chat，conversation ID is to chat user's name
 For group chat, conversation ID is groupID(), different with getGroupName()
 For chat room, conversation ID is chatroom ID, different with chat room name()
 For help desk, it is same with single chat, conversationID is also chat user's name</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#getAllMessages--">getAllMessages</a></span>()</code>
<div class="block">get all message in local cache, if empty, then get from local database.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#getAllMsgCount--">getAllMsgCount</a></span>()</code>
<div class="block">get all messages count in this conversation</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#getExtField--">getExtField</a></span>()</code>
<div class="block">get conversation's extend field, extend field only stored in local database, not sync to network server.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#getLastMessage--">getLastMessage</a></span>()</code>
<div class="block">get last message from conversation</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#getLatestMessageFromOthers--">getLatestMessageFromOthers</a></span>()</code>
<div class="block">Get received latest message from conversation.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#getMessage-java.lang.String-boolean-">getMessage</a></span>(java.lang.String&nbsp;messageId,
          boolean&nbsp;markAsRead)</code>
<div class="block">get message by message ID, if the message already loaded into memory cache, will directly return the message, otherwise load message from database, and put it into cache.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#getMessageAttachmentPath--">getMessageAttachmentPath</a></span>()</code>
<div class="block">return conversation associated attachment path, can be used to erase conversation related downloaded files from local storage.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../com/hyphenate/chat/EMConversation.EMConversationType.html" title="enum in com.hyphenate.chat">EMConversation.EMConversationType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#getType--">getType</a></span>()</code>
<div class="block">get conversation type</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#getUnreadMsgCount--">getUnreadMsgCount</a></span>()</code>
<div class="block">get unread message count</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#insertMessage-com.hyphenate.chat.EMMessage-">insertMessage</a></span>(<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&nbsp;msg)</code>
<div class="block">Insert a message to a conversation in local database.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#isGroup--">isGroup</a></span>()</code>
<div class="block">group chat and chatroom chat will both return true</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#loadMessages-java.util.List-">loadMessages</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;msgIds)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#loadMoreMsgFromDB-java.lang.String-int-">loadMoreMsgFromDB</a></span>(java.lang.String&nbsp;startMsgId,
                 int&nbsp;pageSize)</code>
<div class="block">load message from database, message id starting from param startMsgId, messages will also store in to memory cache
 so next time calling getAllMessages(), result will contain those messages</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#markAllMessagesAsRead--">markAllMessagesAsRead</a></span>()</code>
<div class="block">Mark all messages as read</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#markMessageAsRead-java.lang.String-">markMessageAsRead</a></span>(java.lang.String&nbsp;messageId)</code>
<div class="block">mark the message as read, and send read as to server.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/hyphenate/chat/EMConversation.EMConversationType.html" title="enum in com.hyphenate.chat">EMConversation.EMConversationType</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#msgType2ConversationType-java.lang.String-com.hyphenate.chat.EMMessage.ChatType-">msgType2ConversationType</a></span>(java.lang.String&nbsp;id,
                        <a href="../../../com/hyphenate/chat/EMMessage.ChatType.html" title="enum in com.hyphenate.chat">EMMessage.ChatType</a>&nbsp;type)</code>
<div class="block">provide transformation from message type to conversation type</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#removeMessage-java.lang.String-">removeMessage</a></span>(java.lang.String&nbsp;messageId)</code>
<div class="block">delete a message</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#searchMsgFromDB-com.hyphenate.chat.EMMessage.Type-long-int-java.lang.String-com.hyphenate.chat.EMConversation.EMSearchDirection-">searchMsgFromDB</a></span>(<a href="../../../com/hyphenate/chat/EMMessage.Type.html" title="enum in com.hyphenate.chat">EMMessage.Type</a>&nbsp;type,
               long&nbsp;timeStamp,
               int&nbsp;maxCount,
               java.lang.String&nbsp;from,
               <a href="../../../com/hyphenate/chat/EMConversation.EMSearchDirection.html" title="enum in com.hyphenate.chat">EMConversation.EMSearchDirection</a>&nbsp;direction)</code>
<div class="block">search message from database according the parameter
 Note: Cautious about memory usage when the maxCount is large</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#searchMsgFromDB-long-int-com.hyphenate.chat.EMConversation.EMSearchDirection-">searchMsgFromDB</a></span>(long&nbsp;timeStamp,
               int&nbsp;maxCount,
               <a href="../../../com/hyphenate/chat/EMConversation.EMSearchDirection.html" title="enum in com.hyphenate.chat">EMConversation.EMSearchDirection</a>&nbsp;direction)</code>
<div class="block">search message from database according the parameter
 Note: Cautious about memory usage when the maxCount is large</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#searchMsgFromDB-long-long-int-">searchMsgFromDB</a></span>(long&nbsp;startTimeStamp,
               long&nbsp;endTimeStamp,
               int&nbsp;maxCount)</code>
<div class="block">search message from database based the parameters
 Note: Cautious about memory usage when the maxCount is large</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#searchMsgFromDB-java.lang.String-long-int-java.lang.String-com.hyphenate.chat.EMConversation.EMSearchDirection-">searchMsgFromDB</a></span>(java.lang.String&nbsp;keywords,
               long&nbsp;timeStamp,
               int&nbsp;maxCount,
               java.lang.String&nbsp;from,
               <a href="../../../com/hyphenate/chat/EMConversation.EMSearchDirection.html" title="enum in com.hyphenate.chat">EMConversation.EMSearchDirection</a>&nbsp;direction)</code>
<div class="block">search message from database based the parameters
 Note: Cautious about memory usage when the maxCount is large</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#setExtField-java.lang.String-">setExtField</a></span>(java.lang.String&nbsp;ext)</code>
<div class="block">set Conversation extension.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/hyphenate/chat/EMConversation.html#updateMessage-com.hyphenate.chat.EMMessage-">updateMessage</a></span>(<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&nbsp;msg)</code>
<div class="block">Update a message in local database.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.hyphenate.chat.EMBase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.hyphenate.chat.<a href="../../../com/hyphenate/chat/EMBase.html" title="class in com.hyphenate.chat">EMBase</a></h3>
<code><a href="../../../com/hyphenate/chat/EMBase.html#equals-java.lang.Object-">equals</a>, <a href="../../../com/hyphenate/chat/EMBase.html#hashCode--">hashCode</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>getClass, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="conversationId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>conversationId</h4>
<pre>public&nbsp;java.lang.String&nbsp;conversationId()</pre>
<div class="block">conversation ID
 For single chat，conversation ID is to chat user's name
 For group chat, conversation ID is groupID(), different with getGroupName()
 For chat room, conversation ID is chatroom ID, different with chat room name()
 For help desk, it is same with single chat, conversationID is also chat user's name</div>
</li>
</ul>
<a name="getType--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getType</h4>
<pre>public&nbsp;<a href="../../../com/hyphenate/chat/EMConversation.EMConversationType.html" title="enum in com.hyphenate.chat">EMConversation.EMConversationType</a>&nbsp;getType()</pre>
<div class="block">get conversation type</div>
</li>
</ul>
<a name="getUnreadMsgCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnreadMsgCount</h4>
<pre>public&nbsp;int&nbsp;getUnreadMsgCount()</pre>
<div class="block">get unread message count</div>
</li>
</ul>
<a name="markAllMessagesAsRead--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markAllMessagesAsRead</h4>
<pre>public&nbsp;void&nbsp;markAllMessagesAsRead()</pre>
<div class="block">Mark all messages as read</div>
</li>
</ul>
<a name="getAllMsgCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllMsgCount</h4>
<pre>public&nbsp;int&nbsp;getAllMsgCount()</pre>
<div class="block">get all messages count in this conversation</div>
</li>
</ul>
<a name="loadMoreMsgFromDB-java.lang.String-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadMoreMsgFromDB</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;&nbsp;loadMoreMsgFromDB(java.lang.String&nbsp;startMsgId,
                                                   int&nbsp;pageSize)</pre>
<div class="block">load message from database, message id starting from param startMsgId, messages will also store in to memory cache
 so next time calling getAllMessages(), result will contain those messages</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startMsgId</code> - message storage time will before this ID, if startMsgId is "" or null, will load last messages in database.</dd>
<dd><code>pageSize</code> - message count to be loaded.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>messages</dd>
</dl>
</li>
</ul>
<a name="searchMsgFromDB-long-int-com.hyphenate.chat.EMConversation.EMSearchDirection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchMsgFromDB</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;&nbsp;searchMsgFromDB(long&nbsp;timeStamp,
                                                 int&nbsp;maxCount,
                                                 <a href="../../../com/hyphenate/chat/EMConversation.EMSearchDirection.html" title="enum in com.hyphenate.chat">EMConversation.EMSearchDirection</a>&nbsp;direction)</pre>
<div class="block">search message from database according the parameter
 Note: Cautious about memory usage when the maxCount is large</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeStamp</code> - the timestamp for search</dd>
<dd><code>maxCount</code> - the max number of message to search</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of searched messages</dd>
</dl>
</li>
</ul>
<a name="searchMsgFromDB-com.hyphenate.chat.EMMessage.Type-long-int-java.lang.String-com.hyphenate.chat.EMConversation.EMSearchDirection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchMsgFromDB</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;&nbsp;searchMsgFromDB(<a href="../../../com/hyphenate/chat/EMMessage.Type.html" title="enum in com.hyphenate.chat">EMMessage.Type</a>&nbsp;type,
                                                 long&nbsp;timeStamp,
                                                 int&nbsp;maxCount,
                                                 java.lang.String&nbsp;from,
                                                 <a href="../../../com/hyphenate/chat/EMConversation.EMSearchDirection.html" title="enum in com.hyphenate.chat">EMConversation.EMSearchDirection</a>&nbsp;direction)</pre>
<div class="block">search message from database according the parameter
 Note: Cautious about memory usage when the maxCount is large</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - message type, TXT、VOICE、IMAGE etc.</dd>
<dd><code>timeStamp</code> - the timestamp for search</dd>
<dd><code>maxCount</code> - the max number of message to search</dd>
<dd><code>from</code> - who the message from, used to search in group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of searched messages</dd>
</dl>
</li>
</ul>
<a name="searchMsgFromDB-java.lang.String-long-int-java.lang.String-com.hyphenate.chat.EMConversation.EMSearchDirection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchMsgFromDB</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;&nbsp;searchMsgFromDB(java.lang.String&nbsp;keywords,
                                                 long&nbsp;timeStamp,
                                                 int&nbsp;maxCount,
                                                 java.lang.String&nbsp;from,
                                                 <a href="../../../com/hyphenate/chat/EMConversation.EMSearchDirection.html" title="enum in com.hyphenate.chat">EMConversation.EMSearchDirection</a>&nbsp;direction)</pre>
<div class="block">search message from database based the parameters
 Note: Cautious about memory usage when the maxCount is large</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>keywords</code> - the keywords in message.</dd>
<dd><code>timeStamp</code> - the timestamp for search</dd>
<dd><code>maxCount</code> - the max number of message to search</dd>
<dd><code>from</code> - who the message from, used to search in group</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of searched messages</dd>
</dl>
</li>
</ul>
<a name="searchMsgFromDB-long-long-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>searchMsgFromDB</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;&nbsp;searchMsgFromDB(long&nbsp;startTimeStamp,
                                                 long&nbsp;endTimeStamp,
                                                 int&nbsp;maxCount)</pre>
<div class="block">search message from database based the parameters
 Note: Cautious about memory usage when the maxCount is large</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>startTimeStamp</code> - start timestamp for search in.</dd>
<dd><code>startTimeStamp</code> - end timestamp for search</dd>
<dd><code>maxCount</code> - the max number of message to search</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of searched messages</dd>
</dl>
</li>
</ul>
<a name="getMessage-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessage</h4>
<pre>public&nbsp;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&nbsp;getMessage(java.lang.String&nbsp;messageId,
                            boolean&nbsp;markAsRead)</pre>
<div class="block">get message by message ID, if the message already loaded into memory cache, will directly return the message, otherwise load message from database, and put it into cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messageId</code> - </dd>
<dd><code>markAsRead</code> - if true, will mark the message as read and send read ack to server</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>message</dd>
</dl>
</li>
</ul>
<a name="loadMessages-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadMessages</h4>
<pre>@Deprecated
public&nbsp;java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;&nbsp;loadMessages(java.util.List&lt;java.lang.String&gt;&nbsp;msgIds)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;</div>
<div class="block">load messages, if those message not exists in memory in cache, will load message from database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msgIds</code> - messages to be loaded.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="markMessageAsRead-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markMessageAsRead</h4>
<pre>public&nbsp;void&nbsp;markMessageAsRead(java.lang.String&nbsp;messageId)</pre>
<div class="block">mark the message as read, and send read as to server.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messageId</code> - messageID</dd>
</dl>
</li>
</ul>
<a name="getAllMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllMessages</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&gt;&nbsp;getAllMessages()</pre>
<div class="block">get all message in local cache, if empty, then get from local database.</div>
</li>
</ul>
<a name="removeMessage-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeMessage</h4>
<pre>public&nbsp;void&nbsp;removeMessage(java.lang.String&nbsp;messageId)</pre>
<div class="block">delete a message</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messageId</code> - message to be deleted</dd>
</dl>
</li>
</ul>
<a name="getLastMessage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastMessage</h4>
<pre>public&nbsp;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&nbsp;getLastMessage()</pre>
<div class="block">get last message from conversation</div>
</li>
</ul>
<a name="getLatestMessageFromOthers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLatestMessageFromOthers</h4>
<pre>public&nbsp;<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&nbsp;getLatestMessageFromOthers()</pre>
<div class="block">Get received latest message from conversation.</div>
</li>
</ul>
<a name="clear--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clear</h4>
<pre>public&nbsp;void&nbsp;clear()</pre>
<div class="block">clear messages in this conversation's from cache, but will NOT clear local database</div>
</li>
</ul>
<a name="clearAllMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearAllMessages</h4>
<pre>public&nbsp;void&nbsp;clearAllMessages()</pre>
<div class="block">Delete all messages of the conversation from memory cache and local database</div>
</li>
</ul>
<a name="setExtField-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setExtField</h4>
<pre>public&nbsp;void&nbsp;setExtField(java.lang.String&nbsp;ext)</pre>
<div class="block">set Conversation extension. extend field only stored in local database, not sync to network server.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ext</code> - extension string</dd>
</dl>
</li>
</ul>
<a name="getExtField--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExtField</h4>
<pre>public&nbsp;java.lang.String&nbsp;getExtField()</pre>
<div class="block">get conversation's extend field, extend field only stored in local database, not sync to network server.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>extension object</dd>
</dl>
</li>
</ul>
<a name="msgType2ConversationType-java.lang.String-com.hyphenate.chat.EMMessage.ChatType-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>msgType2ConversationType</h4>
<pre>public static&nbsp;<a href="../../../com/hyphenate/chat/EMConversation.EMConversationType.html" title="enum in com.hyphenate.chat">EMConversation.EMConversationType</a>&nbsp;msgType2ConversationType(java.lang.String&nbsp;id,
                                                                         <a href="../../../com/hyphenate/chat/EMMessage.ChatType.html" title="enum in com.hyphenate.chat">EMMessage.ChatType</a>&nbsp;type)</pre>
<div class="block">provide transformation from message type to conversation type</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - message Id, used to distinguish single chat and help desk, has no effect on other chat type.</dd>
<dd><code>type</code> - message type</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>conversation type</dd>
</dl>
</li>
</ul>
<a name="isGroup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isGroup</h4>
<pre>public&nbsp;boolean&nbsp;isGroup()</pre>
<div class="block">group chat and chatroom chat will both return true</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>group chat and chatroom chat will both return true, otherwise return false.</dd>
</dl>
</li>
</ul>
<a name="insertMessage-com.hyphenate.chat.EMMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertMessage</h4>
<pre>public&nbsp;void&nbsp;insertMessage(<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&nbsp;msg)</pre>
<div class="block">Insert a message to a conversation in local database.
  ConversationId of the message should be the same as conversationId of the conversation in order to insert the message into the conversation correctly.
  The inserting message will be inserted based on timestamp.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - Message</dd>
</dl>
</li>
</ul>
<a name="appendMessage-com.hyphenate.chat.EMMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendMessage</h4>
<pre>public&nbsp;void&nbsp;appendMessage(<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&nbsp;msg)</pre>
<div class="block">Insert a message to the end of a conversation in local database.
  ConversationId of the message should be the same as conversationId of the conversation in order to insert the message into the conversation correctly.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - Message</dd>
</dl>
</li>
</ul>
<a name="updateMessage-com.hyphenate.chat.EMMessage-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMessage</h4>
<pre>public&nbsp;boolean&nbsp;updateMessage(<a href="../../../com/hyphenate/chat/EMMessage.html" title="class in com.hyphenate.chat">EMMessage</a>&nbsp;msg)</pre>
<div class="block">Update a message in local database. latestMessage of the conversation and other properties will be updated accordingly. messageId of the message cannot be updated</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>msg</code> - Message</dd>
</dl>
</li>
</ul>
<a name="getMessageAttachmentPath--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMessageAttachmentPath</h4>
<pre>public&nbsp;java.lang.String&nbsp;getMessageAttachmentPath()</pre>
<div class="block">return conversation associated attachment path, can be used to erase conversation related downloaded files from local storage.
 not ensure the return path exists, please handle IOException when deleting directory</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/hyphenate/chat/EMContactManager.html" title="class in com.hyphenate.chat"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/hyphenate/chat/EMConversation.EMConversationType.html" title="enum in com.hyphenate.chat"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/hyphenate/chat/EMConversation.html" target="_top">Frames</a></li>
<li><a href="EMConversation.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; 2016 hyphenate.io. All Rights Reserved.</i></small></p>
</body>
</html>
